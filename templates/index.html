<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evvie Time Tracker</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Evvie Time Tracker</h1>
            <nav>
                <button id="btn-dashboard" class="nav-btn active">Dashboard</button>
                <button id="btn-employees" class="nav-btn">Employees</button>
                <button id="btn-children" class="nav-btn">Children</button>
                <button id="btn-import" class="nav-btn">Import CSV</button>
                <button id="btn-export" class="nav-btn">Export</button>
                <button id="btn-config" class="nav-btn">Settings</button>
            </nav>
        </header>

        <main>
            <div id="dashboard-view" class="view active">
                <div class="period-controls">
                    <button id="prev-period">&lt; Previous</button>
                    <h2 id="period-label">Loading...</h2>
                    <button id="next-period">Next &gt;</button>
                    <div class="child-selector">
                        <label for="child-filter">Child:</label>
                        <select id="child-filter"></select>
                    </div>
                </div>
                <div id="calendar-grid" class="calendar-grid">
                </div>
                <div id="period-summary" class="summary">
                </div>
            </div>

            <div id="employees-view" class="view">
                <h2>Employees</h2>
                <button id="add-employee" class="btn-primary">Add Employee</button>
                <table id="employees-table">
                    <thead>
                        <tr>
                            <th>Friendly Name</th>
                            <th>System Name</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div id="children-view" class="view">
                <h2>Children</h2>
                <button id="add-child" class="btn-primary">Add Child</button>
                <table id="children-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Code</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div id="import-view" class="view">
                <h2>Import CSV</h2>
                <div class="import-form">
                    <input type="file" id="csv-file" accept=".csv">
                    <button id="validate-csv" class="btn-secondary">Validate</button>
                    <button id="import-csv" class="btn-primary">Import</button>
                </div>
                <div id="import-loading" class="import-loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>Import in progress, please wait...</p>
                </div>
                <div id="import-results"></div>
            </div>

            <div id="export-view" class="view">
                <h2>Export Data</h2>
                <div class="export-form">
                    <label>
                        Start Date:
                        <input type="date" id="export-start">
                    </label>
                    <label>
                        End Date:
                        <input type="date" id="export-end">
                    </label>
                    <div class="export-buttons">
                        <button id="export-pdf" class="btn-primary">Export PDF</button>
                        <button id="export-csv" class="btn-primary">Export CSV</button>
                        <button id="export-json" class="btn-primary">Export JSON</button>
                    </div>
                </div>
            </div>

            <div id="config-view" class="view">
                <h2>Settings</h2>
                <div class="config-section">
                    <h3>Payroll Period Configuration</h3>
                    <label>
                        Anchor Date (First Period Start):
                        <input type="date" id="anchor-date">
                        <button id="configure-periods" class="btn-primary">Configure</button>
                    </label>
                </div>
                <div class="config-section">
                    <h3>Hour Limits</h3>
                    <button id="add-hour-limit" class="btn-primary">Add Hour Limit</button>
                    <table id="hour-limits-table">
                        <thead>
                            <tr>
                                <th>Employee</th>
                                <th>Child</th>
                                <th>Max Hours</th>
                                <th>Alert Threshold</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                <div class="config-section">
                    <h3>Exclusion Periods</h3>
                    <button id="add-exclusion" class="btn-primary">Add Exclusion Period</button>
                    <table id="exclusions-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Reason</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <script src="/static/js/app.js"></script>
    <script src="/static/js/forms.js"></script>
    <script src="/static/js/config.js"></script>
</body>
</html>